
### JavaScript事件/消息循环处理机制

浏览器运行时，有多个进程在工作，包括

1. 浏览器进程
2. 网络进程
3. 渲染进程

而渲染进程一般情况下会为每个窗口开一个渲染主线程，渲染主线程是处于一直循环监听任务队列的状态，对于用户的操作相应、定时器等等都可以当作任务加入到队列里面，一旦任务队列里面出现任务，便会处理任务。任务分为两种：

1. 普通的任务
2. 微队列任务

目前有两种方式添加微队列任务

**1. Promise
2. MutationObserver**

对于某些异步的任务，渲染主进程会在任务开始时，即计时开始时，将任务加入计时进程，此时主进程去处理其它任务，等待计时结束之后，再把任务加入任务队列，主进程再来处理该任务，所以JavaScript处理异步任务不会阻塞。

**Q:JS 中的计时器能做到精确计时吗？为什么?**

A:因为JavaScript的定时器是在线程空闲的时候才会处理任务，所以JavaScript无法做到精确的计时